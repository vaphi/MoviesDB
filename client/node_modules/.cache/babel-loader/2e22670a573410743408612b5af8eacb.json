{"ast":null,"code":"var auth = {\n  isAuthenticated: false,\n  authenticate: function authenticate(cb) {\n    var _this = this;\n\n    // req.user on backend will contain user info if\n    // this person has credentials that are valid\n    fetch('/user', {\n      credentials: 'include'\n    }).then(function (res) {\n      _this.isAuthenticated = true;\n\n      if (typeof cb === 'function') {\n        cb(res.json().user);\n      }\n    }).catch(function (err) {\n      console.log('Error fetching authorized user.');\n    });\n  },\n  signout: function signout(cb) {\n    var _this2 = this;\n\n    fetch('/logout', {\n      method: 'POST',\n      credentials: 'include'\n    }).then(function (res) {\n      _this2.isAuthenticated = false;\n\n      if (typeof cb === 'function') {\n        // user was logged out\n        cb(true);\n      }\n    }).catch(function (err) {\n      console.log('Error logging out user.');\n\n      if (typeof cb === 'function') {\n        // user was not logged out\n        cb(false);\n      }\n    });\n  }\n};\nexport default auth;","map":{"version":3,"sources":["C:\\Users\\Va Phi\\Desktop\\web-template\\client\\src\\utils\\auth.js"],"names":["auth","isAuthenticated","authenticate","cb","fetch","credentials","then","res","json","user","catch","err","console","log","signout","method"],"mappings":"AAAA,IAAMA,IAAI,GAAG;AACZC,EAAAA,eAAe,EAAE,KADL;AAGZC,EAAAA,YAHY,wBAGCC,EAHD,EAGK;AAAA;;AAChB;AACA;AACAC,IAAAA,KAAK,CAAC,OAAD,EAAU;AACdC,MAAAA,WAAW,EAAE;AADC,KAAV,CAAL,CAGCC,IAHD,CAGM,UAACC,GAAD,EAAS;AACd,MAAA,KAAI,CAACN,eAAL,GAAuB,IAAvB;;AACA,UAAI,OAAOE,EAAP,KAAc,UAAlB,EAA8B;AAC7BA,QAAAA,EAAE,CAACI,GAAG,CAACC,IAAJ,GAAWC,IAAZ,CAAF;AACA;AACD,KARD,EASCC,KATD,CASO,UAACC,GAAD,EAAS;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACA,KAXD;AAYA,GAlBW;AAoBZC,EAAAA,OApBY,mBAoBJX,EApBI,EAoBA;AAAA;;AACXC,IAAAA,KAAK,CAAC,SAAD,EAAY;AAChBW,MAAAA,MAAM,EAAE,MADQ;AAEhBV,MAAAA,WAAW,EAAE;AAFG,KAAZ,CAAL,CAICC,IAJD,CAIM,UAACC,GAAD,EAAS;AACd,MAAA,MAAI,CAACN,eAAL,GAAuB,KAAvB;;AACA,UAAI,OAAOE,EAAP,KAAc,UAAlB,EAA8B;AAC7B;AACAA,QAAAA,EAAE,CAAC,IAAD,CAAF;AACA;AACD,KAVD,EAWCO,KAXD,CAWO,UAACC,GAAD,EAAS;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;;AACA,UAAI,OAAOV,EAAP,KAAc,UAAlB,EAA8B;AAC7B;AACAA,QAAAA,EAAE,CAAC,KAAD,CAAF;AACA;AACD,KAjBD;AAkBA;AAvCW,CAAb;AA0CA,eAAeH,IAAf","sourcesContent":["const auth = {\r\n\tisAuthenticated: false,\r\n\r\n\tauthenticate(cb) {\r\n\t\t// req.user on backend will contain user info if\r\n\t\t// this person has credentials that are valid\r\n\t\tfetch('/user', {\r\n\t\t\tcredentials: 'include'\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tthis.isAuthenticated = true\r\n\t\t\tif (typeof cb === 'function') {\r\n\t\t\t\tcb(res.json().user);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log('Error fetching authorized user.');\r\n\t\t});\r\n\t},\r\n\r\n\tsignout(cb) {\r\n\t\tfetch('/logout', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tcredentials: 'include'\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tthis.isAuthenticated = false; \r\n\t\t\tif (typeof cb === 'function') {\r\n\t\t\t\t// user was logged out\r\n\t\t\t\tcb(true);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log('Error logging out user.');\r\n\t\t\tif (typeof cb === 'function') {\r\n\t\t\t\t// user was not logged out\r\n\t\t\t\tcb(false);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}