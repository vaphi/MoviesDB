{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Va Phi\\\\Desktop\\\\web-template-SERN\\\\client\\\\src\\\\pages\\\\MoviesSearch.js\";\nimport React, { Component } from 'react';\nimport '../Misc/css/MoviesSearch.css';\nimport $ from 'jquery';\n\nvar MovieSearch =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MovieSearch, _Component);\n\n  function MovieSearch(props) {\n    var _this;\n\n    _classCallCheck(this, MovieSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MovieSearch).call(this, props));\n    _this.state = {};\n\n    _this.performSearch();\n\n    return _this;\n  }\n\n  _createClass(MovieSearch, [{\n    key: \"viewMovie\",\n    value: function viewMovie() {\n      var url = \"https://www.themoviedb.org/movie/\" + this.props.movie.id;\n      window.location.href = url;\n    }\n  }, {\n    key: \"performSearch\",\n    value: function performSearch(searchTerm) {\n      var _this2 = this;\n\n      console.log(\"perform search using movieDB\");\n      var urlString = \"https://api.themoviedb.org/3/search/movie?include_adult=false&page=1&language=en-US&api_key=439e525f3c7b6259d2526faf374dbf4e&query=\" + searchTerm;\n      $.ajax({\n        url: urlString,\n        success: function success(searchResults) {\n          console.log(\"Fetched data successfully\"); //console.log(searchResults)\n\n          var results = searchResults.results; //console.log(results[0])\n\n          var movieRows = [];\n          results.forEach(function (movie) {\n            console.log(movie.id);\n            movie.poster_src = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path;\n            var movieGrid = React.createElement(\"div\", {\n              class: \"col-sm-6\",\n              key: movie.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              alt: \"poster\",\n              src: movie.poster_src,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            }), React.createElement(\"h4\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 37\n              },\n              __self: this\n            }, movie.title), React.createElement(\"p\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38\n              },\n              __self: this\n            }, movie.overview), React.createElement(\"input\", {\n              type: \"button\",\n              value: \"view\",\n              onClick: _this2.viewMovie.bind(_this2),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39\n              },\n              __self: this\n            }));\n            movieRows.push(movieGrid);\n          });\n\n          _this2.setState({\n            rows: movieRows\n          });\n        },\n        error: function error(xhr, status, err) {\n          console.error(\"Failed to fetch data\");\n        }\n      });\n    }\n  }, {\n    key: \"searchChangeHandler\",\n    value: function searchChangeHandler(event) {\n      console.log(event.target.value);\n      var boundObject = this;\n      var searchTerm = event.target.value;\n      boundObject.performSearch(searchTerm);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"search-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"search-bar\",\n        placeholder: \"Please enter movie name\",\n        onChange: this.searchChangeHandler.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.state.rows)));\n    }\n  }]);\n\n  return MovieSearch;\n}(Component);\n\nexport default MovieSearch;","map":{"version":3,"sources":["C:\\Users\\Va Phi\\Desktop\\web-template-SERN\\client\\src\\pages\\MoviesSearch.js"],"names":["React","Component","$","MovieSearch","props","state","performSearch","url","movie","id","window","location","href","searchTerm","console","log","urlString","ajax","success","searchResults","results","movieRows","forEach","poster_src","poster_path","movieGrid","title","overview","viewMovie","bind","push","setState","rows","error","xhr","status","err","event","target","value","boundObject","searchChangeHandler"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport '../Misc/css/MoviesSearch.css';\r\nimport $ from 'jquery';\r\nclass MovieSearch extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {}\r\n\t\tthis.performSearch()\r\n\t}\r\n\r\n\tviewMovie() {\r\n\t\tconst url = \"https://www.themoviedb.org/movie/\" + this.props.movie.id\r\n\t\twindow.location.href = url\r\n\t}\r\n\tperformSearch(searchTerm) {\r\n\t\tconsole.log(\"perform search using movieDB\")\r\n\t\tconst urlString = \"https://api.themoviedb.org/3/search/movie?include_adult=false&page=1&language=en-US&api_key=439e525f3c7b6259d2526faf374dbf4e&query=\" + searchTerm\r\n\t\t$.ajax({\r\n\t\t\turl: urlString,\r\n\t\t\tsuccess: (searchResults) => {\r\n\t\t\t\tconsole.log(\"Fetched data successfully\")\r\n\t\t\t\t//console.log(searchResults)\r\n\t\t\t\tconst results = searchResults.results\r\n\t\t\t\t//console.log(results[0])\r\n\t\t\t\t\r\n\t\t\t\tvar movieRows = []\r\n\t\t\t\t\r\n\t\t\t\tresults.forEach((movie) => {\r\n\t\t\t\t\t\tconsole.log(movie.id)\r\n\t\t\t\t\t\tmovie.poster_src = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path\r\n\t\t\t\t\t\tconst movieGrid = \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class=\"col-sm-6\" key={movie.id}>\r\n\t\t\t\t\t\t\t<img alt=\"poster\" src= {movie.poster_src}/>\r\n\t\t\t\t\t\t\t<h4>{movie.title}</h4>\r\n\t\t\t\t\t\t\t<p>{movie.overview}</p>\r\n\t\t\t\t\t\t\t<input type=\"button\" value=\"view\" onClick={this.viewMovie.bind(this)}/>\r\n\t\t\t\t\t\t  </div> \r\n\t\t\t\t\t\r\n\t\t\t\t\tmovieRows.push(movieGrid)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.setState({rows: movieRows})\r\n\t\t\t},\r\n\t\t\terror: (xhr, status, err) => {\r\n\t\t\t\tconsole.error(\"Failed to fetch data\")\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tsearchChangeHandler(event) {\r\n\t\tconsole.log(event.target.value)\r\n\t\tconst boundObject = this\r\n\t\tconst searchTerm = event.target.value\r\n\t\tboundObject.performSearch(searchTerm)\r\n\t}\r\n\t\r\nrender() {\r\nreturn(\r\n\t<div>\r\n\t<div class=\"search-container\">\r\n  \t\t<div class=\"row\">\r\n    \t\t<div class=\"col-sm\">\r\n      \t\t\t<input className=\"search-bar\" placeholder=\"Please enter movie name\" onChange={this.searchChangeHandler.bind(this)}/> \r\n    \t\t</div>\r\n  \t\t</div>\r\n\t</div>\r\n\t<div class=\"container\">\r\n\t<div class=\"row\" >\r\n\t{this.state.rows}\r\n\t</div>\r\n\t</div>\r\n</div>\r\n\t)\r\n\t}\r\n}\r\n\r\nexport default MovieSearch;"]},"metadata":{},"sourceType":"module"}